import{w as x,x as f,a,p as e}from"./chunk-OIYGIGL5-BqXurzTp.js";import{u as h}from"./puter-Ca5OHvpr.js";const m=()=>{const{auth:i,isLoading:t,error:r,clearError:j,fs:n,ai:v,kv:l}=h(),d=f(),[c,p]=a.useState([]),o=async()=>{const s=await n.readDir("./");p(s)};a.useEffect(()=>{o()},[]),a.useEffect(()=>{!t&&!i.isAuthenticated&&d("/auth?next=/wipe")},[t]);const u=async()=>{c.forEach(async s=>{await n.delete(s.path)}),await l.flush(),o()};return t?e.jsx("div",{children:"Loading..."}):r?e.jsxs("div",{children:["Error ",r]}):e.jsxs("div",{children:["Authenticated as: ",i.user?.username,e.jsx("div",{children:"Existing files:"}),e.jsx("div",{className:"flex flex-col gap-4",children:c.map(s=>e.jsx("div",{className:"flex flex-row gap-4",children:e.jsx("p",{children:s.name})},s.id))}),e.jsx("div",{children:e.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-md cursor-pointer",onClick:()=>u(),children:"Wipe App Data"})})]})},E=x(m);export{E as default};
